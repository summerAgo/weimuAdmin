<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="layui/css/layui.css">
    <link rel="stylesheet" href="js/layui-mod/dtree/dtree.css">
    <link rel="stylesheet" href="js/layui-mod/dtree/font/iconfont.css">
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div class="layui-row layui-col-space10">
            <div class="layui-fluid">
                <fieldset class="layui-elem-field layui-field-title" id="yjfxk">
                    <legend>示例</legend>
                    <div class="layui-field-box">
                        <div class="layui-row layui-col-space10" style="margin-top: 10px;">
                            <div class="layui-col-lg4">
                                <div style="height: 450px;overflow: auto;">
                                    <ul id="commonTree3" class="dtree" data-id="0"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <script src="layui/layui.js"></script>
    <script>
        layui.config({
            base: 'js/layui-mod/', //此处路径请自行处理, 可以使用绝对路径
        }).extend({
            dtree: 'dtree/dtree',
            formSelects: 'formSelects-v4'
        });

        layui.use(['element', 'layer', 'dtree'], function() {
            var element = layui.element,
                layer = layui.layer,
                dtree = layui.dtree,
                $ = layui.$;

            var data = [{
                "id": "001",
                "title": "湖南省",
                "isLast": false,
                "level": "1",
                "parentId": "-1",
                "basicData": {
                    "data1": "1",
                    "data2": "2"
                },
                "checkArr": [{
                    "type": "0",
                    "isChecked": "0"
                }],
                "children": [{
                    "id": "001001",
                    "title": "长沙市",
                    "isLast": false,
                    "level": "2",
                    "parentId": "001",
                    "basicData": {
                        "data1": "1",
                        "data2": "2"
                    },
                    "checkArr": [{
                        "type": "0",
                        "isChecked": "0"
                    }],
                    "children": [{
                        "id": "001001001",
                        "title": "雨花区",
                        "isLast": true,
                        "parentId": "001001",
                        "iconClass": "icon-shuye1",
                        "basicData": {
                            "data1": "1",
                            "data2": "2"
                        },
                        "checkArr": [{
                            "type": "0",
                            "isChecked": "0"
                        }],
                        "level": "3"
                    }]
                }]
            }]
            dtree.render({
                elem: "#commonTree3",
                data: data,
                icon: "2",
                checkbar: true
            });
            $("#commonTree3_btn").click(function() {
                var params = dtree.getCheckbarNodesParam("commonTree3");
                layer.msg(JSON.stringify(params));
            })
        });
    </script>
</body>

</html>